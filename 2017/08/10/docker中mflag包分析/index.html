<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="docker golang," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="mflag包实现了命令行中flag的解析。代码在docker/pkg/mflag/flag.go中。 ###用法  第一步：注册flag。flag的注册主要用到Bool（）、BoolVar（）、Int（）、IntVar（）、String（）、StringVar（）等方法。这些方法需要对应的数据类型（实现Value接口）：boolValue、intValue、stringValue。。。这些类型代码">
<meta name="keywords" content="docker golang">
<meta property="og:type" content="article">
<meta property="og:title" content="docker中mflag包分析">
<meta property="og:url" content="http://yoursite.com/2017/08/10/docker中mflag包分析/index.html">
<meta property="og:site_name" content="Code">
<meta property="og:description" content="mflag包实现了命令行中flag的解析。代码在docker/pkg/mflag/flag.go中。 ###用法  第一步：注册flag。flag的注册主要用到Bool（）、BoolVar（）、Int（）、IntVar（）、String（）、StringVar（）等方法。这些方法需要对应的数据类型（实现Value接口）：boolValue、intValue、stringValue。。。这些类型代码">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-08-10T07:12:48.182Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="docker中mflag包分析">
<meta name="twitter:description" content="mflag包实现了命令行中flag的解析。代码在docker/pkg/mflag/flag.go中。 ###用法  第一步：注册flag。flag的注册主要用到Bool（）、BoolVar（）、Int（）、IntVar（）、String（）、StringVar（）等方法。这些方法需要对应的数据类型（实现Value接口）：boolValue、intValue、stringValue。。。这些类型代码">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/08/10/docker中mflag包分析/"/>





  <title>docker中mflag包分析 | Code</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Code</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">念念不忘，必有回响</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/10/docker中mflag包分析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="su-42">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Code">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">docker中mflag包分析</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-10T15:11:37+08:00">
                2017-08-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>mflag包实现了命令行中flag的解析。<br>代码在docker/pkg/mflag/flag.go中。</p>
<p>###用法</p>
<ul>
<li>第一步：注册flag。<br>flag的注册主要用到Bool（）、BoolVar（）、Int（）、IntVar（）、String（）、StringVar（）等方法。<br>这些方法需要对应的数据类型（实现Value接口）：boolValue、intValue、stringValue。。。这些类型代码中以定义好。<br>同样的我们可以自定义数据类型进行注册解析，此类型必须满足Value接口，然后调用<figure class="highlight plain"><figcaption><span>Value, names []string, usage string)```方法注册（第一个参数为Value）。</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">- 第二步：解析flag。</div><div class="line">在所有flag注册完毕之后，调用```Parse(arguments []string)```将arguments解析到定义好的flag里。</div><div class="line">### 主要的数据结构</div><div class="line">#### Value：</div><div class="line">Value接口是用于将动态值保存到一个flag里</div></pre></td></tr></table></figure></li>
</ul>
<p>// 如果一个Value接口有IsBoolFlag（）方法且返回值为true，<br>// 那么命令行解析就会把-name解析为-name=true，而不是使用下一个命令行参数<br>type Value interface {<br>   String() string<br>   Set(string) error<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">#### Getter：</div></pre></td></tr></table></figure></p>
<p>// Get（）可以获取Value接口中的内容，这里Get（）为什么不是Value接口的一部分，<br>// 是因为兼容性的问题（Getter接口是在Go1之后出现）。<br>type Getter interface {<br>   Value<br>   Get() interface{}<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">####Flag：</div><div class="line">代表一个flag状态</div></pre></td></tr></table></figure></p>
<p>type Flag struct {<br>   Names    []string // flag在命令行的名字（这里是slice，可能有多个名字）<br>   Usage    string   // flag的帮助信息<br>   Value    Value    // 需要设置的值（这里Value就是上方的interface）<br>   DefValue string   // 默认值（Value.String()）<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">####FlagSet：</div><div class="line">FlagSet代表一个已注册的flag的集合。FlagSet零值没有名字，采用ContinueOnError错误处理策略</div></pre></td></tr></table></figure></p>
<p>ype FlagSet struct {<br>   // Usage函数在解析flag出现错误时会被调用<br>   // 这里为什么会是一个函数而不是使用方法，是为了能够自定义错误处理函数<br>   Usage      func()<br>   ShortUsage func()</p>
<p>   name             string<br>   parsed           bool<br>   actual           map[string]<em>Flag<br>   formal           map[string]</em>Flag<br>   args             []string // flags之后的参数<br>   errorHandling    ErrorHandling<br>   output           io.Writer // nil表示stderr<br>   nArgRequirements []nArgRequirement<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">注意actual和formal，map的value都是*Flag，因为有可能一个flag有很多name（比如-h、--help），这样这些name都会指向同一个Flag，那么只要Parse（）任意一个name，其它的name都会改变，因为它们是同一个Flag。</div><div class="line"></div><div class="line">另外，在本包中定义了很多数据类型：boolValue、intVlaue、int64Value、... 、stringValue、durationValue。这些类型都有String（） string、Set（string） error、Get（） interface｛｝方法，所以他们也就实现了上面的Value接口和Getter接口。</div><div class="line">其中，我们需要注意的是boolValue，它有一个方法IsBoolFlag（） bool，所以boolValue同样实现了boolFlag接口，而这个接口在命令行解析时会将-name解析成-name=true，而不需要下一个命令行参数。</div><div class="line"></div><div class="line">###主要的方法：</div><div class="line">FlagSet提供了很多flag的注册方法，分为两种：</div><div class="line">1. Bool（），Int（），String（）等会返回一个对应类型的指针，flag的值会存储到指针指向的变量里；</div><div class="line">2. BoolVar（），IntVar（），StringVar（）等方法比前一种多一种参数，对应类型的指针p，flag的值保存在p所指向的变量中，这一类没有返回值。</div><div class="line"></div><div class="line">其实Xxx（）方法的实现还是调用了XxxVar（）方法，只不过首先new一个对应类型的指针p，用来当作XxxVar（）的第一个参数。</div><div class="line">而这些所有的实现最终会调用Var（）方法。</div></pre></td></tr></table></figure></p>
<p>// Var（）方法根据的name和usage定义一个flag，而flag的类型和值根据第一个参数获得<br>func (fs <em>FlagSet) Var(value Value, names []string, usage string) {<br>   // 默认值始终是一个string，不会改变<br>   flag := &amp;Flag{names, usage, value, value.String()}<br>   for <em>, name := range names {<br>      name = strings.TrimPrefix(name, “#”)
      </em>, alreadythere := fs.formal[name]<br>      if alreadythere {<br>         var msg string<br>         if fs.name == “” {<br>            msg = fmt.Sprintf(“flag redefined: %s”, name)<br>         } else {<br>            msg = fmt.Sprintf(“%s flag redefined: %s”, fs.name, name)<br>         }<br>         fmt.Fprintln(fs.Out(), msg)<br>         panic(msg) // Happens only if flags are declared with identical names<br>      }<br>      if fs.formal == nil {<br>         fs.formal = make(map[string]</em>Flag)<br>      }<br>      fs.formal[name] = flag<br>   }<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">首先根据参数初始化了一个Flag并返回了对应的指针flag，flag.DefValue其实是value.String（）。</div><div class="line">然后遍历names获取每一个name。将name开始的“#”去除，看*FlagSet fs的formal中是否存在formal[name]，如果存在则引发panic，如果不存在就将此flag添加到fs.formal中。</div><div class="line">也就是说，同一个flag如果有多个名字，那么这个flag会在fs.formal中存多次，而key就是names中的不同name，value则是这个flag的指针。</div><div class="line"></div><div class="line">注册好之后就是解析，解析的主要方法是Parse（arguments []string），在方法里调用了parseOne（），我们先来看这个方法。</div></pre></td></tr></table></figure></p>
<p>func (fs *FlagSet) parseOne() (bool, string, error) {<br>   if len(fs.args) == 0 {<br>      return false, “”, nil<br>   }<br>   s := fs.args[0]<br>   if len(s) == 0 || s[0] != ‘-‘ || len(s) == 1 {<br>      return false, “”, nil<br>   }<br>   if s[1] == ‘-‘ &amp;&amp; len(s) == 2 { // “–” terminates the flags<br>      fs.args = fs.args[1:]<br>      return false, “”, nil<br>   }<br>   name := s[1:]<br>   if len(name) == 0 || name[0] == ‘=’ {<br>      return false, “”, fs.failf(“bad flag syntax: %s”, s)<br>   }</p>
<p>   // it’s a flag. does it have an argument?<br>   fs.args = fs.args[1:]<br>   hasValue := false<br>   value := “”<br>   if i := strings.Index(name, “=”); i != -1 {<br>      value = trimQuotes(name[i+1:])<br>      hasValue = true<br>      name = name[:i]<br>   }</p>
<p>   m := fs.formal<br>   flag, alreadythere := m[name] // BUG<br>   if !alreadythere {<br>      if name == “-help” || name == “help” || name == “h” { // special case for nice help message.<br>         fs.usage()<br>         return false, “”, ErrHelp<br>      }<br>      if len(name) &gt; 0 &amp;&amp; name[0] == ‘-‘ {<br>         return false, “”, fs.failf(“flag provided but not defined: -%s”, name)<br>      }<br>      return false, name, ErrRetry<br>   }<br>   if fv, ok := flag.Value.(boolFlag); ok &amp;&amp; fv.IsBoolFlag() { // special case: doesn’t need an arg<br>      if hasValue {<br>         if err := fv.Set(value); err != nil {<br>            return false, “”, fs.failf(“invalid boolean value %q for  -%s: %v”, value, name, err)<br>         }<br>      } else {<br>         fv.Set(“true”)<br>      }<br>   } else {<br>      // It must have a value, which might be the next argument.<br>      if !hasValue &amp;&amp; len(fs.args) &gt; 0 {<br>         // value is the next arg<br>         hasValue = true<br>         value, fs.args = fs.args[0], fs.args[1:]<br>      }<br>      if !hasValue {<br>         return false, “”, fs.failf(“flag needs an argument: -%s”, name)<br>      }<br>      if err := flag.Value.Set(value); err != nil {<br>         return false, “”, fs.failf(“invalid value %q for flag -%s: %v”, value, name, err)<br>      }<br>   }<br>   if fs.actual == nil {<br>      fs.actual = make(map[string]*Flag)<br>   }<br>   fs.actual[name] = flag<br>   for i, n := range flag.Names {<br>      if n == fmt.Sprintf(“#%s”, name) {<br>         replacement := “”<br>         for j := i; j &lt; len(flag.Names); j++ {<br>            if flag.Names[j][0] != ‘#’ {<br>               replacement = flag.Names[j]<br>               break<br>            }<br>         }<br>         if replacement != “” {<br>            fmt.Fprintf(fs.Out(), “Warning: ‘-%s’ is deprecated, it will be replaced by ‘-%s’ soon. See usage.\n”, name, replacement)<br>         } else {<br>            fmt.Fprintf(fs.Out(), “Warning: ‘-%s’ is deprecated, it will be removed soon. See usage.\n”, name)<br>         }<br>      }<br>   }<br>   return true, “”, nil<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">首先是对异常情况的处理。</div><div class="line">然后获取fs.args[0]赋值给s。并且这时fs.args = fs.args[1:]，也就是说每解析一次，fs.args都会去除第一个arg。</div><div class="line">对s进行解析。因为命令行flag会有三种情况：</div><div class="line">- -flag</div><div class="line">- -flag=x</div><div class="line">- -flag x</div><div class="line"></div><div class="line">那么。如果存在“=”，左边为name，右边为value；如果不存在，那么s直接就是name（name需要去除第一个&apos;-&apos;，value去除“&apos;&apos;”等）</div></pre></td></tr></table></figure></p>
<p>m := fs.formal<br>flag, alreadythere := m[name]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">根据name获取对应的flag。如果没有获取到则返回错误（没定义却使用help时是ErrHelp）。</div><div class="line">- 如果flag.Value是boolFlag类型且IsBoolFlag()为真，那么代表这个flag是一个特例，可以不需要value，也就是上面第一种flag情况,这时就将flag的值设为true；</div><div class="line">- 如果value存在，那么直接用value赋值，这也是上面第二种flag情况。</div><div class="line">- 如果flag.Value不是boolFlag类型，那么就是上面第三种flag情况，而flag的值是下一个参数（如果没有下一个参数则返回错误）。</div></pre></td></tr></table></figure></p>
<p>hasValue = true<br>value, fs.args = fs.args[0], fs.args[1:] //这里需要注意的是fs.args又去除了第一个元素。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">设置flag.Value的值为value。</div><div class="line">将赋值好的flag添加到FlagSet的actual中。</div></pre></td></tr></table></figure></p>
<p>fs.actual[name] = flag<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">最后是对“#”开头的name处理，“#”代表弃用。</div><div class="line"></div><div class="line">现在再来看看Parse（arguments []string） error方法。</div></pre></td></tr></table></figure></p>
<p>// 从参数arguments中解析注册的flag。必须在所有flag注册之后，访问flag值之前进行。<br>// -help未注册而使用时，会返回ErrHelp。<br>func (fs *FlagSet) Parse(arguments []string) error {<br>   fs.parsed = true<br>   fs.args = arguments<br>   for {<br>      seen, name, err := fs.parseOne()<br>      if seen {<br>         continue<br>      }<br>      if err == nil {<br>         break<br>      }<br>      if err == ErrRetry {<br>         if len(name) &gt; 1 {<br>            err = nil<br>            for <em>, letter := range strings.Split(name, “”) {<br>               fs.args = append([]string{“-“ + letter}, fs.args…)<br>               seen2, </em>, err2 := fs.parseOne()<br>               if seen2 {<br>                  continue<br>               }<br>               if err2 != nil {<br>                  err = fs.failf(“flag provided but not defined: -%s”, name)<br>                  break<br>               }<br>            }<br>            if err == nil {<br>               continue<br>            }<br>         } else {<br>            err = fs.failf(“flag provided but not defined: -%s”, name)<br>         }<br>      }<br>      switch fs.errorHandling {<br>      case ContinueOnError:<br>         return err<br>      case ExitOnError:<br>         os.Exit(125)<br>      case PanicOnError:<br>         panic(err)<br>      }<br>   }<br>   return nil<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">首先为FlagSet的parsed赋值为true，代表此FlagSet已被解析过。</div><div class="line">然后为FlagSet得args赋值为参数arguments，用来进行接下来的解析（调用parseOne()）。</div><div class="line">接下来主要对当error为ErrTry是进行处理。为什么要进行这一步，这主要是因为有可能连写了一些flag（比如：-al，这里将-a和-l进行了连写），需要将连写的flag拆开逐个解析。</div></pre></td></tr></table></figure></p>
<p>for <em>, letter := range strings.Split(name, “”) {<br>   fs.args = append([]string{“-“ + letter}, fs.args…)<br>   seen2, </em>, err2 := fs.parseOne()<br>   ……<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">将name以字母一个个分割，并进行遍历。</div><div class="line">在字母前添加&quot;-&quot;，并将fs.agrs slice与之合并，形成新的fs.args。</div><div class="line">调用fs.parseOne()进行解析。</div><div class="line">这样flag的解析就完成了。</div><div class="line"></div><div class="line">还有一个比较重要的函数是Merge(dest *FlagSet, flagsets ...*FlagSet) error，作用是将n个FlagSet合并成一个dest FlagSet。如果在合并过程中出现name重复的话，就按照dest的errorHanding处理。</div><div class="line"></div><div class="line">###主要的变量：</div><div class="line">####CommandLine：</div></pre></td></tr></table></figure></p>
<p>// CommandLine是默认命令行flag集，用于解析os.Args。包水平的函数·如BoolVar等都是对其方法的封装。<br>var CommandLine = NewFlagSet(os.Args[0], ExitOnError)  //FlagSet.name,  FlagSet.errorHanding<br>这里主要看一下Parse(),可以看到它解析的是os.Args[1:]<br>func Parse() {<br>   // Ignore errors; CommandLine is set for ExitOnError.<br>   CommandLine.Parse(os.Args[1:])<br>}<br>```</p>
<p>代码中的其它部分这里就不做分析。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/docker-golang/" rel="tag"># docker golang</a>
          
        </div>
      

      
      
      

      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="su-42" />
          <p class="site-author-name" itemprop="name">su-42</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">su-42</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
